version: "3.8"

services:
  node1:
    build: .
    ports:
      - "42069:42069"
    environment:
      SERVER_PORT: 42069
      PEER_ADDRESSES: "node2:42070,node3:42071"
      IS_MINER: 1

  node2:
    build: .
    ports:
      - "42070:42070"
    environment:
      SERVER_PORT: 42070
      PEER_ADDRESSES: "node4:42072"

  node3:
    build: .
    ports:
      - "42071:42071"
    environment:
      SERVER_PORT: 42071
      PEER_ADDRESSES: "node4:42072"

  node4:
    build: .
    ports:
      - "42072:42072"
    environment:
      SERVER_PORT: 42072
      PEER_ADDRESSES: ""
